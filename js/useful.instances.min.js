/*
	Source:
	van Creij, Maurice (2012). "useful.instances.js: A library of useful functions to ease working with instances of constructors.", version 20121126, http://www.woollymittens.nl/.

	License:
	This work is licensed under a Creative Commons Attribution 3.0 Unported License.

	Usage:
	var instances = new useful.Instances(document.querySelectorAll('#id.classname'), Constructor, {'foo':'bar'});
	instances.wait(); or instances.start();
	object = instances.get(element);
*/(function(e){"use strict";e.Instances=function(e,t,n){this.objs=e;this.constructor=t;this.cfgs=n;this.constructs=[];this.delay=200;this.wait=function(){var e=this;e.timeout=document.readyState.match(/interactive|loaded|complete/i)?e.start():setTimeout(function(){e.wait()},e.delay)};this.start=function(){for(var e=0,t=this.objs.length;e<t;e+=1){this.constructs[e]=new this.constructor(this.objs[e],Object.create(this.cfgs));this.constructs[e].start()}return null};this.getAll=function(e){return this.constructs};this.getByObject=function(e){return this.constructs[this.constructs.indexOf(e)]};this.getByIndex=function(e){return this.constructs[e]}};var t=t||{};t.querySelectorAll=function(){document.querySelectorAll||(document.querySelectorAll=function(e){var t=document,n=t.documentElement.firstChild,r=t.createElement("STYLE");return n.appendChild(r),t.__qsaels=[],r.styleSheet.cssText=e+"{x:expression(document.__qsaels.push(this))}",window.scrollBy(0,0),t.__qsaels})};t.objectCreate=function(){typeof Object.create!="function"&&(Object.create=function(e){function t(){}t.prototype=e;return new t})};t.querySelectorAll();t.objectCreate()})(window.useful=window.useful||{});